[gd_scene load_steps=21 format=3 uid="uid://cu6jvsxo4djuj"]

[ext_resource type="Texture2D" uid="uid://u6h7ol8d2lpv" path="res://Image/WeoponFrame.png" id="1_kx1ak"]
[ext_resource type="Texture2D" uid="uid://80ej0ipq2vut" path="res://Image/WeoponFrameSelect.png" id="2_jpag4"]
[ext_resource type="Texture2D" uid="uid://bg2nfploadr4x" path="res://Image/SwordIcon.png" id="2_yy380"]
[ext_resource type="FontFile" uid="uid://cnp7v165pa520" path="res://TTF/pixelsix10.ttf" id="3_rd60s"]
[ext_resource type="Texture2D" uid="uid://b8duvfc3c10p5" path="res://Image/WeoponHP.png" id="4_bk3v2"]
[ext_resource type="Texture2D" uid="uid://cs3pxs865gj3r" path="res://Image/WeoponFrameNoSp.png" id="4_pfqbs"]
[ext_resource type="Texture2D" uid="uid://damyco6y2dhrs" path="res://Image/WeoponFrameNoHp.png" id="5_teoso"]
[ext_resource type="Texture2D" uid="uid://8uwf1a38etcp" path="res://Image/WeoponSP.png" id="5_xnqpa"]
[ext_resource type="PackedScene" uid="uid://dhssf3o322gyh" path="res://Scene/Components.tscn" id="6_sh686"]
[ext_resource type="Script" path="res://Scene/UI/SetHpLabel.gd" id="7_c418m"]
[ext_resource type="Texture2D" uid="uid://boqs4e8h0qdtu" path="res://Image/NoHpCross.png" id="7_g8ggl"]
[ext_resource type="Script" path="res://Scene/UI/SlotHealthSystem.gd" id="8_fg484"]
[ext_resource type="Script" path="res://Scene/UI/ConnectSetHealthSignal.gd" id="10_arkod"]
[ext_resource type="Script" path="res://Scene/UI/SetWeaponIconTscn.gd" id="11_n2lrj"]
[ext_resource type="Script" path="res://Scene/UI/SetWeaponData.gd" id="11_w67w7"]
[ext_resource type="Script" path="res://Scene/UI/EquipWeapon.gd" id="12_jgtyl"]
[ext_resource type="Script" path="res://Scene/UI/RecoverSP.gd" id="14_ltssy"]
[ext_resource type="Script" path="res://Scene/UI/ZeroSPtoForbid.gd" id="15_cbsn7"]
[ext_resource type="Script" path="res://Scene/UI/GameOver.gd" id="17_hxlc7"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_n7olv"]
size = Vector2(190, 190)

[node name="WeaponSlot" type="TextureRect"]
size_flags_horizontal = 0
size_flags_vertical = 0
texture = ExtResource("1_kx1ak")
stretch_mode = 2

[node name="Equip" type="TextureRect" parent="."]
visible = false
layout_mode = 0
offset_left = 6.0
offset_top = 6.0
offset_right = 198.0
offset_bottom = 198.0
texture = ExtResource("2_jpag4")
stretch_mode = 2

[node name="Label" type="Label" parent="Equip"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -164.0
offset_top = -50.0
offset_right = -152.0
offset_bottom = -23.0
grow_horizontal = 0
grow_vertical = 0
theme_override_colors/font_color = Color(0.65098, 0.243137, 0.129412, 1)
theme_override_colors/font_shadow_color = Color(0.811765, 0.709804, 0.639216, 1)
theme_override_constants/shadow_offset_x = 2
theme_override_constants/shadow_offset_y = 1
theme_override_fonts/font = ExtResource("3_rd60s")
theme_override_font_sizes/font_size = 24
text = "E"

[node name="NoSpBG" type="TextureRect" parent="."]
visible = false
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("4_pfqbs")

[node name="NoHpBG" type="TextureRect" parent="."]
visible = false
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("5_teoso")

[node name="WeaponIcon" type="TextureRect" parent="."]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -47.0
offset_top = -49.0
offset_right = 49.0
offset_bottom = 47.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("2_yy380")
stretch_mode = 3

[node name="HPLabel" type="Label" parent="."]
layout_mode = 2
offset_left = 38.0
offset_top = 29.0
offset_right = 98.0
offset_bottom = 56.0
theme_override_colors/font_color = Color(0.780392, 0.258824, 0.203922, 1)
theme_override_colors/font_shadow_color = Color(0.811765, 0.709804, 0.639216, 1)
theme_override_constants/shadow_offset_x = 2
theme_override_constants/shadow_offset_y = 1
theme_override_fonts/font = ExtResource("3_rd60s")
theme_override_font_sizes/font_size = 24
text = "20/20"

[node name="SPLabel" type="Label" parent="."]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -114.0
offset_top = -55.0
offset_right = -36.0
offset_bottom = -28.0
grow_horizontal = 0
grow_vertical = 0
theme_override_colors/font_color = Color(0.392157, 0.564706, 0.823529, 1)
theme_override_colors/font_shadow_color = Color(0.811765, 0.709804, 0.639216, 1)
theme_override_constants/shadow_offset_x = 2
theme_override_constants/shadow_offset_y = 1
theme_override_fonts/font = ExtResource("3_rd60s")
theme_override_font_sizes/font_size = 24
text = "90/90"
horizontal_alignment = 2

[node name="NoHpCross" type="TextureRect" parent="."]
visible = false
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("7_g8ggl")

[node name="HPProgressBar" type="TextureProgressBar" parent="."]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -96.0
offset_top = -96.0
offset_right = 96.0
offset_bottom = 96.0
grow_horizontal = 2
grow_vertical = 2
max_value = 10.0
value = 10.0
fill_mode = 5
texture_progress = ExtResource("4_bk3v2")
radial_initial_angle = 45.0
radial_fill_degrees = 180.0

[node name="SPProgressBar" type="TextureProgressBar" parent="."]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -96.0
offset_top = -96.0
offset_right = 96.0
offset_bottom = 96.0
grow_horizontal = 2
grow_vertical = 2
value = 100.0
fill_mode = 4
texture_progress = ExtResource("5_xnqpa")
radial_initial_angle = 45.0
radial_fill_degrees = 180.0

[node name="Button" type="TouchScreenButton" parent="."]
position = Vector2(102, 102)
shape = SubResource("RectangleShape2D_n7olv")

[node name="Components" parent="." node_paths=PackedStringArray("host") instance=ExtResource("6_sh686")]
host = NodePath("..")

[node name="SlotHealthSystem" type="Node2D" parent="Components/CurrentStates" index="0"]
script = ExtResource("8_fg484")
max_hp = 30
max_sp = 200

[node name="updateHPValue" type="Node2D" parent="Components/CurrentStates" index="1" node_paths=PackedStringArray("label", "progressbar")]
script = ExtResource("7_c418m")
label = NodePath("../../../HPLabel")
progressbar = NodePath("../../../HPProgressBar")
value_name = "hp"

[node name="updateSPValue" type="Node2D" parent="Components/CurrentStates" index="2" node_paths=PackedStringArray("label", "progressbar")]
script = ExtResource("7_c418m")
label = NodePath("../../../SPLabel")
progressbar = NodePath("../../../SPProgressBar")
value_name = "sp"

[node name="ConnectSetHealthSignal" type="Node2D" parent="Components/CurrentStates" index="3"]
script = ExtResource("10_arkod")

[node name="SetWeaponIconTscn" type="Node2D" parent="Components/CurrentStates" index="4" node_paths=PackedStringArray("weapon_icon_node")]
script = ExtResource("11_n2lrj")
weapon_icon_node = NodePath("../../../WeaponIcon")

[node name="SetWeaponData" type="Node2D" parent="Components/CurrentStates" index="5"]
script = ExtResource("11_w67w7")

[node name="EquipWeapon" type="Node2D" parent="Components/CurrentStates" index="6" node_paths=PackedStringArray("equip_texture_node")]
script = ExtResource("12_jgtyl")
equip_texture_node = NodePath("../../../Equip")

[node name="GameOver" type="Node2D" parent="Components/CurrentStates" index="7"]
script = ExtResource("17_hxlc7")

[node name="RecoverSP" type="Node2D" parent="Components/CurrentStates" index="8"]
script = ExtResource("14_ltssy")

[node name="Timer" type="Timer" parent="Components/CurrentStates/RecoverSP"]

[node name="ZeroSPorHp" type="Node2D" parent="Components/CurrentStates" index="9" node_paths=PackedStringArray("no_sp_bg", "no_hp_bg", "no_hp_cross", "hp_label", "sp_label", "hp_progress_bar", "sp_progress_bar")]
script = ExtResource("15_cbsn7")
no_sp_bg = NodePath("../../../NoSpBG")
no_hp_bg = NodePath("../../../NoHpBG")
no_hp_cross = NodePath("../../../NoHpCross")
hp_label = NodePath("../../../HPLabel")
sp_label = NodePath("../../../SPLabel")
hp_progress_bar = NodePath("../../../HPProgressBar")
sp_progress_bar = NodePath("../../../SPProgressBar")

[connection signal="pressed" from="Button" to="Components/CurrentStates/EquipWeapon" method="_on_button_pressed"]

[editable path="Components"]
